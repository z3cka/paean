<!DOCTYPE html> 
<html> 
<head> 
  <title>Paean</title> 
  <meta name="viewport" content="width=device-width, initial-scale=1"> 
  <link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
  <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
  <script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>
  <script type="text/javascript">
    $(document).ready(function(){
      // load lists
      for(var i=0, len=localStorage.length; i<len; i++) {
        var key = localStorage.key(i);
        var value = localStorage[key];
        console.log(key + " => " + value);
        alert(value);
        $('#lists ul').append('<li>'+value+'</li>');
      }
      
      $('#list-add-link').click(function(e) {
        var localStorageKey = "listStorageKey" + $('#event-title').val();
        //alert(e);
        console.log(e);
        // store event
        localStorage.setItem(localStorageKey, $('#event-title').val());
        // put event in header of list create page
        var item = localStorage.getItem(localStorageKey);
        $('#list-create-multi h1').text(item);
        //$('#list-create-multi h1').text($('#event-title').val());
      });
    });
  </script>
</head> 
<body>
  
  <div data-role="page" id="home">
    
    <div data-role="header">
      <h1>Paean</h1>
    </div><!-- /header -->
  
    <div data-role="content">
      <label>What event will you be thanking people for?</label>
      <input type="text" name="event-title" id="event-title" value="" />
      <a href="#list-create-multi" id="list-add-link" data-role="button" data-icon="arrow-r" data-inline="true" data-theme="b" data-transition="slide">Add List</a>
      <h2>Lists</h2>
      <ul data-role="listview" data-inset="true" id="lists">
	  </ul>
    </div><!-- /content -->
  
    <div data-role="footer">		
      <div data-role="navbar" data-iconpos="left">
        <ul>
          <li><a href="#" data-icon="home">Lists</a></li>
          <li><a href="#" data-icon="grid">Active List</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
  
  </div><!-- /page -->
  
  <div data-role="page" id="list-create-multi">
    
    <div data-role="header">
      <a href="#home" data-role="button" data-icon="arrow-l">Back</a>
      <h1></h1>
    </div><!-- /header -->
    
    <div data-role="content">  
      <label>Thank Who?</label>
      <input type="text" id="thank-who" value="" />
      <label>For what?</label>
      <input type="text" id="thank-what" value="" />
      <div class="ui-grid-a">
        <div class="ui-block-a">
          <p></p>
        </div>
        <div class="ui-block-b">
          <a href="#" data-icon="plus" data-iconpos="right" data-role="button" data-theme="e">Add</a>
        </div>
      </div>
    </div><!-- /content -->
    <div data-role="footer">		
      <div data-role="navbar" data-iconpos="left">
        <ul>
          <li><a href="#home" data-icon="home">Lists</a></li>
          <li><a href="#" data-icon="grid">Active List</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
  </div><!-- /page #list-create-multi -->
  
</body>
</html>
